# Data Collection Configuration
# Based on gameplan.md and current_research.md insights

collection:
  # Target dataset size
  target_pairs: 1000
  min_pairs: 800
  max_pairs: 1200
  
  # Collection strategy
  tweets_per_query: 20
  queries_per_day: 5
  collection_days: 14
  
  # Search queries - DIVERSE, SUBSTANTIVE TOPICS with strong spam filters
  # Strategy: Mix of tech, business, creative topics to ensure author diversity
  search_queries:
    # Technical deep-dives (attract developers, not bots)
    - "(debugging OR \"code review\" OR refactoring) (tips OR advice OR best practices) lang:en min_faves:150 -crypto -NFT -giveaway -airdrop until:2025-09-30"
    - "(system design OR architecture OR scalability) (challenges OR lessons OR learned) lang:en min_faves:150 -crypto -NFT -web3 -token until:2025-09-30"
    - "(performance OR optimization) (before OR after OR improved) lang:en min_faves:150 -airdrop -token -whitelist until:2025-09-30"
    
    # Startup/Business discussions (different author pool)
    - "(startup OR founder OR bootstrapped) (mistake OR lesson OR regret) lang:en min_faves:150 -crypto -NFT -web3 -token until:2025-09-30"
    - "(product OR launch OR MVP) (failed OR succeeded OR learned) lang:en min_faves:150 -airdrop -giveaway -NFT until:2025-09-30"
    - "(pricing OR revenue OR growth) (strategy OR experiment OR insight) lang:en min_faves:150 -crypto -web3 -token until:2025-09-30"
    
    # Creative/Writing (totally different audience, great replies)
    - "(writing OR storytelling OR narrative) (craft OR technique OR advice) lang:en min_faves:150 -crypto -NFT -airdrop until:2025-09-30"
    - "(design OR illustration OR creative) (process OR workflow OR tool) lang:en min_faves:150 -web3 -token -giveaway until:2025-09-30"
    
    # Career/Learning (broad appeal, thoughtful replies)
    - "(career OR job OR interview) (advice OR mistake OR transition) lang:en min_faves:150 -crypto -NFT -web3 -airdrop until:2025-09-30"
    - "(remote OR freelance OR consultant) (challenge OR lesson OR tip) lang:en min_faves:150 -token -giveaway -NFT until:2025-09-30"
    
    # Psychology/Self-improvement (high engagement, thoughtful)
    - "(productivity OR focus OR burnout) (struggle OR solution OR habit) lang:en min_faves:150 -crypto -web3 -NFT -token until:2025-09-30"
    - "(imposter syndrome OR self-doubt OR confidence) (overcome OR deal OR manage) lang:en min_faves:150 -airdrop -giveaway -NFT until:2025-09-30"
    
    # Specific interesting topics (varied voices)
    - "(open source OR OSS OR maintainer) (burnout OR sustainability OR funding) lang:en min_faves:150 -crypto -NFT -token until:2025-09-30"
    - "(API OR database OR infrastructure) (outage OR incident OR postmortem) lang:en min_faves:150 -airdrop -web3 -giveaway until:2025-09-30"
    - "(testing OR CI OR automation) (saved OR prevented OR caught) lang:en min_faves:150 -crypto -NFT -token until:2025-09-30"
  
  # Tweet filters (from gameplan.md: target 200-1000 likes)
  tweet_filters:
    min_likes: 100
    max_likes: 2000
    min_retweets: 10
    max_retweets: 500
    has_replies: true
    is_retweet: false
    is_quote: false
    language: "en"
    verified: null  # Don't filter by verification (too restrictive, eliminates most tweets)
  
  # Reply filters (from gameplan.md: avoid celebrity/timing/media advantages)
  reply_filters:
    min_likes: 5  # INCREASED - Filter bot engagement (was 1)
    max_likes: 500  # Avoid viral outliers (lowered from 1000)
    min_retweets: 0  # Most replies get 0 retweets, even good ones!
    max_retweets: 50
    
    # Author filters (avoid celebrity effect and bots)
    min_follower_count: 200  # INCREASED - Better bot filtering (was 100)
    max_follower_count: 20000  # LOWERED - Avoid influencer advantage (was 50k)
    verified: null  # Allow both verified and unverified
    
    # Author diversity (prevent bot farms)
    max_replies_per_author: 10  # NEW - Limit replies from single author
    
    # Timing filter (from gameplan.md: avoid first 5 min advantage)
    min_time_delay_seconds: 300  # 5 minutes after original tweet
    max_time_delay_seconds: 604800  # 7 days max (increased to capture more established engagement)
    
    # Content filters
    max_length: 280
    min_length: 30
    has_media: false  # Can't replicate media-based success
    has_urls: false  # URLs often drive engagement we can't replicate
    has_hashtags: null  # Allow hashtags
    
  # Quality filters
  quality:
    min_language_confidence: 0.8
    max_toxicity_score: 0.3
    remove_duplicates: true
    semantic_similarity_threshold: 0.9  # For deduplication
    
    # NEW: Substantive content filters
    min_engagement_for_validation: 3  # INCREASED from 2 (was accepting bot spam)
    min_unique_words: 8  # Require actual sentences, not "gm fren"
    max_generic_phrase_ratio: 0.5  # Flag if >50% is generic phrases
    
    # Spam/bot patterns to reject
    crypto_spam_keywords:
      - "gm"
      - "ser"
      - "fren"
      - "wagmi"
      - "ngmi"
      - "degen"
      - "wen"
      - "anon"
      - "based and"
      - "stay locked in"
      - "revolution"
      - "innovative"
      - "onchain"
      - "airdrop"
      - "whitelist"

# Apify Configuration
apify:
  actor_id: "apidojo/tweet-scraper"
  max_tweets: 1000
  timeout_seconds: 300
  proxy_config:
    useApifyProxy: true
    apifyProxyGroups: ["RESIDENTIAL"]
  
# Scraping Configuration (fallback/alternative)
scraping:
  use_proxies: true
  proxy_rotation: true
  rate_limit_delay: 2  # seconds between requests
  max_retries: 3
  timeout: 30
  user_agents_rotation: true
  
# Data Storage
storage:
  raw_data_dir: "data/raw"
  processed_data_dir: "data/processed"
  cache_dir: "data/cache"
  
  # File formats
  save_format: "jsonl"  # One JSON object per line
  compression: "gzip"
  
  # Checkpointing (resume interrupted collections)
  checkpoint_enabled: true
  checkpoint_frequency: 50  # Save after every 50 tweets collected
  
# Logging
logging:
  level: "INFO"
  log_file: "output/logs/data_collection.log"
  console_output: true

